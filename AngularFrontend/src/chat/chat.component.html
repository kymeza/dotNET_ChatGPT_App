<div class="h-100" style="position: relative;">
    <div class="w-100 h-100" style="position: relative;">
      <div class="h-100 d-flex flex-column" style="max-height: 100%">
  
        <div class="row mt-4">
          <div class="col">
            <input type="text" class="form-control" [(ngModel)]="modelInput" placeholder="Model Name" />
          </div>
          <div class="col">
            <button type="button" class="btn btn-primary" (click)="connect()" [disabled]="isConnected">Connect</button>
          </div>
        </div>
  
        <div class="my-4" style="height:100%; max-height: 100%; overflow-y: auto;">
          <div *ngFor="let message of messages">
            <div class="card text-black mb-3" [ngClass]="{'bg-secondary': message.sender === 'Assistant'}"
                 [style.margin-left]="message.sender === 'User' ? '20%' : '10%'">
              <div class="card-body">
                <div class="card-text" style="overflow-x: auto">
                  <em *ngIf="!message.content.trim()">I'm thinking...</em>
                  <span *ngIf="message.content.trim()">{{ message.content }}</span>
                </div>
              </div>
            </div>
          </div>
          <div #anchor></div>
        </div>
  
        <div class="input-group">
          <input type="text" class="form-control" [(ngModel)]="messageInput" placeholder="Ask me anything" 
                 (keypress)="($event.code === 'Enter' ? ask() : null)" />
          <button type="button" class="btn btn-primary" (click)="ask()" [disabled]="!messageInput.trim() || isAsking">Send</button>
        </div>
  
      </div>
    </div>
  </div>
  